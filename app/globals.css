@import "tailwindcss";

@theme inline {
  /* Colors */
  --color-black-custom: #1B1D1F;
  --color-black-light: #282B30;
  --color-blue-custom: #4E80EE;
  --color-grey-custom: #6C727F;
  --color-grey-light: #D2D5DA;

  --animate-show-country-data: showCountryData .4s ease-in;
}

@layer base {
  html, body {
    @apply w-full h-screen bg-black-custom;
  }
}

@layer utilities {
  .flex-align-center {
    @apply flex items-center;
  }

  .flex-center {
    @apply flex items-center justify-center;
  }

  .sort-dropdown-active {
    @apply opacity-100 scale-100 pointer-events-auto;
  }

  .region-option-active {
    @apply bg-black-light;
  }

  .status-checkbox-active {
    @apply bg-blue-custom before:opacity-100 border-transparent;
  }
}

@layer components {
  .page-container {
    @apply flex flex-col w-full h-screen;

    .hero-image-container {
      @apply w-full h-[300px] bg-[url(/images/hero-image-sm.jpg)] lg:bg-[url(/images/hero-image.jpg)] bg-no-repeat bg-center bg-cover;
    }
  }

  .countries-floating-section {
    @apply absolute top-0 left-0 w-full bg-transparent py-12 overflow-y-auto;

    .countries-section-content {
      @apply mt-[100px] md:mt-[180px] w-[90%] md:w-[95%] h-screen max-h-screen bg-black-custom border border-grey-custom/30 shadow-md rounded-lg px-4 py-10 md:p-10 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden overflow-y-auto;

      .top-section {
        @apply flex flex-col gap-8 md:flex-row md:items-center md:justify-between;

        .entries-found {
          @apply text-grey-light text-lg tracking-wide font-bold;
        }

        .search-input-container {
          @apply relative w-full md:w-[400px] h-12 rounded-xl bg-black-light;

          .search-input {
            @apply w-full h-full pl-24 pr-20 md:px-16 text-sm text-grey-light placeholder:text-grey-light bg-transparent outline-none border-none;
          }

          .search-icon {
            @apply absolute top-1/2 -translate-y-1/2 left-14 md:left-6;
          }
        }
      }

      .grid-divider {
        @apply w-full h-full max-h-[100%-100px] mt-10 grid grid-cols-12 gap-6;

        .filter-options {
          @apply w-full h-fit md:h-full col-span-12 md:col-span-3 lg:col-span-4 flex flex-col gap-8;

          .filter-title {
            @apply text-xs font-bold text-grey-light mb-2;
          }

          .sort-dropdown-container {
            @apply relative w-full;

            .sort-dropdown-trigger {
              @apply w-full h-[45px] px-4 border-2 border-black-light flex items-center justify-between rounded-xl cursor-pointer;

              p {
                @apply text-grey-light text-sm font-bold;
              }
            }

            .sort-dropdown {
              @apply absolute left-0 top-[80px] bg-black-light w-full py-4 px-2 flex flex-col gap-2 rounded-xl pointer-events-none opacity-0 scale-[0.98] transition-all duration-500;

              .sort-dropdown-option {
                @apply w-full text-sm text-grey-light cursor-pointer p-2 rounded-xl bg-transparent hover:bg-black-custom transition-all duration-300;
              }
            }

          }

          .region-selector-wrapper {
            @apply w-full flex flex-wrap gap-3;

            .region-selector-option {
              @apply w-fit p-2 text-sm rounded-xl cursor-pointer font-semibold text-grey-light transition-all duration-300;
            }
          }

          .custom-checkbox {
            @apply relative shrink-0 size-7 rounded-md border-2 border-grey-light bg-transparent before:opacity-0 before:content-['âœ”'] before:absolute before:top-1/2 before:left-1/2 before:-translate-1/2 before:text-grey-light transition-all duration-500;
          }

        }

        .data-table-section {
          @apply w-full h-full row-span-12 col-span-12 md:col-span-9 lg:col-span-8;

          .countries-data-table {
            @apply w-full h-full;

            .table-head {
              @apply text-left;
            }

            .table-header {
              @apply text-xs font-semibold pb-4 text-grey-light;
            }

            .country-data-row {
              @apply text-grey-light h-[60px] [&>td]:max-w-[60px] cursor-pointer;
            }

            .skeleton-data-row {
              @apply h-[60px] [&>td]:max-w-[60px];

              .flag-skeleton {
                @apply w-12 h-8 rounded-sm animate-pulse duration-100 bg-black-light;
              }
              
              .data-skeleton {
                @apply w-[calc(100%-60px)] h-4 rounded-full animate-pulse duration-100 bg-black-light;
              }
            }
          }
        }

        .fetch-result-message-container {
          @apply w-full h-full row-span-12 col-span-12 md:col-span-9 lg:col-span-8;

          .retry-button {
            @apply w-[280px] rounded-md py-3 font-semibold cursor-pointer transition-all duration-300 border-2 hover:bg-black-light border-black-light text-grey-light bg-transparent;
          }
        }
      }
    }

    .country-section-content {
      @apply mt-[100px] md:mt-[180px] w-full md:w-[600px] min-h-screen md:max-h-screen bg-black-custom border-y md:border border-grey-custom/30 md:shadow-md md:rounded-lg pb-10 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden overflow-y-visible;

      .country-data-error {
        @apply size-full flex flex-col items-center mt-16 gap-4;

        h2 {
          @apply text-xl text-red-400;
        }

        button {
          @apply w-[240px] py-3 rounded-md text-sm bg-transparent border-2 cursor-pointer transition-colors duration-500 hover:bg-black-light text-grey-light border-black-light;
        }
      }

      .country-data-loader {
        @apply size-full flex flex-col items-center mt-16;

        h2 {
          @apply text-xl mt-4 animate-pulse text-grey-light/60;
        }
      }

      .country-info {
        @apply animate-show-country-data;
      }

      .country-image-container {
        @apply w-[250px] h-[170px] mx-auto rounded-lg mt-[-40px];
      }

      .country-secondary-info {
        @apply w-full h-full max-h-[340px] mt-7 flex flex-col [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden overflow-y-auto;

        .neighbouring-countries {
          @apply w-full p-6 border-t border-t-black-light;

          .neighbouring-countries-grid {
            @apply w-full mt-4 flex flex-wrap gap-2 gap-y-5;

            .neighbouring-country {
              @apply w-[80px] flex flex-col gap-2;

              .related-country-image-container {
                @apply w-[70px] h-[50px] rounded-md overflow-hidden;
              }
            }
          }
        }
      }
    }
  }
}

@keyframes showCountryData {
  from {
    opacity: 0;
    pointer-events: none;
    transform: scale(0.90)
  }
  to {
    opacity: 1;
    pointer-events: all;
    transform: scale(1)
  }
}